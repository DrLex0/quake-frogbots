// Original: 10-05-2005 by Trinca
// dm6_door initial attempt at fix by DrLex 2024-12.
// However, this particular door suffers from an engine bug: players (and bots)
// get stuck when touching it, because the game fails to register that the player
// is on a solid surface. A workaround can be implemented in QuakeC (although it
// only reduces the risk of the bug occurring).
//
// More fixes by DrLex 2025-03:
// - Improve door handling by throwing a bunch of Frogbot v2 features at it, and make
//   bots avoid stepping on the glitchy door if they do not intend to go through it
// - Break up too large zones
// - Bad paths
// - Make unreachable things really unreachable
// - The usual teleport clean-up
// And again 2025-07:
// - Upgrade dm6_door to universal shootable triggers and added paths to
//   hidden goodies; waypoints are now feature-complete
// - Fix minor things
void() map_eodm3 =
{
// custom markers start at m62
N(3,19,-8);N(184,36,-8);N(158,214,-8);N(-3,207,-8);
N(-162,49,-8);N(-335,92,-20);N(-172,241,-8);N(158,372,-8);
N(163,571,-8);N(-1,566,-8);N(-148,679,-8);N(-147,891,-8);
N(5,1100,8);N(170,896,-8);N(-207,1330,56);N(4,-187,-8);
N(3,-382,24);N(-385,1590,56);N(-488,1600,56);N(-276,1592,56);
N(-507,1342,56);N(-556,1043,56);N(-873,1065,24);N(-1039,1055,24);
N(-1056,882,56);N(-1064,677,136);N(-954,565,136);N(-544,641,136);
N(-652,500,136);N(-816,408,184);N(-681,333,184);N(-1000,330,184);
N(-1112,653,264);N(-1105,529,216);N(-663,600,-136);N(-716,303,-24);
N(-722,472,-129);N(-845,703,-168);N(-944,1073,-168);N(-756,1054,-168);
N(-607,1031,-168);N(-625,732,-105);N(-1109,967,323);N(-1081,1091,354);
N(-1060,1426,376);N(-876,1446,376);N(-919,1289,376);N(-830,1177,376);
N(-668,1147,376);N(-612,935,408);N(-830,871,366);N(-942,798,336);
N(-703,1441,344);N(-385,1571,280);N(-510,1271,280);N(-193,1091,273);
N(-156,756,248);N(-3,796,232);N(-371,787,184);N(-341,609,184);
N(-431,678,184);N(-432,526,184);N(-260,535,232);N(-27,603,232);
N(291,599,216);N(420,400,216);N(414,123,216);N(473,-41,216);
N(327,-96,216);N(431,-225,216);N(140,-150,216);N(28,-278,216);
N(-57,-119,216);N(-217,-148,216);N(-413,-161,216);N(-521,-3,216);
N(-270,-483,168);N(-211,-601,120);N(227,-612,120);N(264,-444,168);
N(-417,774,440);N(-305,633,440);N(-416,458,440);N(-250,334,440);
N(-547,720,76);N(-858,956,-38);N(-707,872,-30);N(-789,710,75);
N(-408,186,216);N(-286,1308,280);N(-384,1294,280);N(-384,1344,280);
N(186,482,-8);N(-1064,1057,-168);N(-846,1013,-110);N(-699,939,-34);
N(-595,913,56);
LSQ();
Z2(m1);Z6(m2);Z10(m4);Z1(m6);Z7(m7);Z6(m8);Z6(m9);Z6(m10);
Z6(m11);Z6(m12);Z5(m13);Z5(m14);Z5(m15);Z5(m16);Z4(m17);Z4(m18);
Z2(m19);Z9(m20);Z3(m21);Z3(m22);Z3(m23);Z3(m24);Z3(m25);Z10(m26);
Z10(m27);Z10(m28);Z10(m29);Z4(m30);Z4(m31);Z4(m32);Z7(m33);Z7(m34);
Z7(m35);Z7(m36);Z7(m37);Z1(m38);Z1(m39);Z1(m40);Z9(m41);Z2(m42);
Z1(m43);Z1(m44);Z10(m45);Z6(m46);Z4(m47);Z2(m48);Z10(m49);Z1(m50);
Z1(m51);Z1(m52);Z1(m53);Z11(m54);Z11(m55);Z7(m56);Z4(m57);Z9(m58);
Z8(m59);Z8(m60);Z8(m61);Z6(m3);Z10(m5);Z1(m62);Z1(m63);Z1(m64);
Z1(m65);Z1(m66);Z1(m67);Z1(m68);Z1(m69);Z1(m70);Z1(m71);Z1(m72);
Z1(m73);Z1(m74);Z1(m75);Z2(m76);Z1(m77);Z1(m78);Z2(m79);Z2(m80);
Z2(m81);Z2(m82);Z9(m83);Z9(m84);Z9(m85);Z9(m86);Z10(m87);Z10(m88);
Z10(m89);Z10(m90);Z10(m91);Z10(m92);Z10(m93);Z4(m94);Z4(m95);Z3(m96);
Z3(m97);Z3(m98);Z3(m99);Z3(m100);Z3(m101);Z3(m102);Z3(m103);Z4(m104);
Z4(m105);Z4(m106);Z4(m107);Z4(m108);Z4(m109);Z4(m110);Z4(m111);Z4(m112);
Z4(m113);Z4(m114);Z4(m115);Z4(m116);Z5(m117);Z5(m118);Z5(m119);Z5(m120);
Z5(m121);Z5(m122);Z5(m123);Z5(m124);Z5(m125);Z5(m126);Z5(m127);Z6(m128);
Z6(m129);Z6(m130);Z6(m131);Z6(m132);Z6(m133);Z6(m134);Z6(m135);Z6(m136);
Z6(m137);Z6(m138);Z6(m139);Z6(m140);Z6(m141);Z7(m142);Z7(m143);Z7(m144);
Z7(m145);Z3(m146);Z3(m147);Z3(m148);Z3(m149);Z6(m150);Z4(m151);Z4(m152);
Z4(m153);Z1(m154);Z8(m155);Z8(m156);Z8(m157);Z9(m158);
G2(m6);G8(m7);G1(m8);G17(m10);G12(m14);G11(m15);G10(m18);G3(m19);
G4(m20);G5(m21);G14(m24);G14(m25);G6(m26);G15(m28);G15(m29);G7(m32);
G18(m33);G16(m37);G18(m38);G18(m41);G13(m43);G13(m44);G20(m54);G9(m56);
G21(m61);
m1.view_ofs_z=41;m2.view_ofs_z=41;m52.d_door_open=16;m57.view_ofs_z=1;
m57.d_door_open=5;m58.view_ofs_z=13;m59.d_door_open=20;
m9.T=1;m45.T=1;m52.T=64;m53.T=64;m55.T=64;m58.T=64;m79.T=16;m120.T=1;
m121.T=1;m122.T=1;m123.T=1;m153.T=20;m154.T=16;m155.T=4;m156.T=4;m157.T=4;
m1.P0=m115;m2.P0=m5;m4.P0=m3;m6.P0=m71;m6.P1=m51;m6.P2=m68;
m6.P3=m65;m6.P4=m69;m6.P5=m52;m6.P6=m154;m6.P7=m53;m7.P0=m36;
m7.P1=m37;m7.P2=m56;m7.P3=m134;m7.P4=m46;m7.P5=m130;m8.P0=m78;
m8.P1=m140;m8.P2=m139;m9.P0=m2;m10.P0=m138;m10.P1=m133;m10.P2=m135;
m10.P3=m134;m10.P4=m136;m11.P0=m131;m11.P1=m130;m11.P2=m132;m11.P3=m141;
m11.P4=m133;m12.P0=m127;m12.P1=m128;m13.P0=m126;m13.P1=m127;m14.P0=m125;
m14.P1=m126;m15.P0=m118;m15.P1=m124;m15.P2=m125;m16.P0=m117;m16.P1=m118;
m16.P2=m119;m17.P0=m151;m17.P1=m117;m18.P0=m114;m18.P2=m115;m18.P4=m116;
m19.P0=m82;m19.P1=m80;m19.P2=m81;m19.P4=m76;m19.P5=m79;m20.P0=m83;
m20.P1=m148;m20.P2=m58;m20.P3=m59;m20.P5=m158;m21.P0=m103;m21.P1=m22;
m21.P2=m102;m21.P4=m148;m21.P5=m23;m22.P0=m21;m22.P1=m101;m22.P2=m84;
m22.P3=m147;m22.P4=m23;m23.P0=m99;m23.P1=m103;m23.P2=m149;m23.P3=m21;
m23.P4=m22;m24.P0=m25;m25.P0=m100;m25.P1=m24;m26.P0=m88;m26.P1=m90;
m26.P2=m91;m26.P3=m89;m26.P6=m149;m27.P0=m93;m27.P1=m95;m28.P0=m29;
m28.P1=m92;m28.P2=m90;m29.P0=m28;m29.P1=m92;m30.P0=m94;m30.P1=m104;
m31.P0=m105;m31.P1=m108;m31.P2=m106;m32.P0=m109;m32.P1=m112;m32.P2=m111;
m32.P3=m110;m33.P0=m111;m33.P1=m142;m34.P0=m142;m34.P1=m143;m34.P2=m144;
m35.P0=m144;m35.P1=m145;m36.P0=m37;m36.P1=m7;m37.P0=m145;m37.P1=m36;
m37.P2=m7;m38.P0=m75;m38.P1=m71;m38.P2=m70;m39.P0=m74;m39.P1=m73;
m39.P2=m75;m40.P0=m76;m40.P1=m74;m41.P0=m42;m41.P1=m83;m41.P2=m84;
m41.P4=m148;m42.P0=m82;m42.P1=m41;m43.P0=m44;m43.P1=m97;m44.P0=m67;
m44.P1=m43;m45.P0=m4;m46.P0=m136;m46.P1=m137;m46.P2=m150;m46.P3=m135;
m47.P0=m18;m47.P1=m115;m48.P0=m19;m48.P1=m76;m48.P2=m82;m49.P0=m87;
m49.P1=m88;m50.P0=m44;m51.P0=m72;m51.P1=m71;m51.P2=m6;m54.P0=m154;
m54.P1=m55;m54.P2=m52;m56.P0=m7;m57.P1=m18;m57.P2=m151;m61.P0=m59;
m61.P1=m60;m61.P2=m155;m3.P0=m46;m3.P2=m2;m5.P0=m91;m5.P1=m4;
m62.P0=m65;m62.P1=m63;m62.P2=m66;m62.P3=m77;m63.P0=m62;m63.P1=m64;
m64.P0=m65;m64.P1=m63;m64.P2=m6;m65.P0=m68;m65.P1=m6;m65.P2=m64;
m65.P3=m62;m65.P4=m66;m66.P0=m62;m66.P1=m65;m66.P2=m68;m66.P3=m67;
m67.P0=m66;m67.P1=m44;m68.P0=m6;m68.P1=m65;m68.P2=m66;m69.P0=m6;
m69.P1=m70;m69.P2=m71;m69.P3=m154;m69.P4=m53;m69.P5=m52;m70.P0=m71;
m70.P1=m38;m70.P2=m69;m70.P3=m154;m70.P4=m53;m70.P5=m52;m71.P0=m38;
m71.P1=m70;m71.P2=m72;m71.P3=m52;m71.P4=m6;m71.P5=m69;m71.P6=m154;
m71.P7=m53;m72.P0=m71;m72.P1=m73;m72.P2=m51;m73.P0=m39;m73.P1=m72;
m74.P0=m40;m74.P1=m39;m75.P0=m39;m75.P1=m38;m76.P0=m40;m76.P1=m19;
m76.P3=m82;m77.P0=m62;m77.P1=m78;m78.P0=m77;m78.P1=m8;m79.P0=m1;
m79.P1=m19;m79.P2=m81;m79.P3=m80;m80.P0=m19;m80.P1=m79;m81.P0=m19;
m81.P1=m79;m82.P0=m19;m82.P2=m76;m82.P3=m42;m83.P0=m41;m83.P1=m20;
m83.P2=m158;m83.P3=m58;m83.P4=m59;m84.P0=m41;m84.P1=m85;m84.P2=m147;
m85.P0=m84;m85.P1=m86;m86.P0=m85;m86.P1=m87;m87.P0=m86;m87.P2=m88;
m88.P0=m87;m88.P1=m26;m88.P2=m91;m89.P0=m90;m89.P1=m26;m90.P0=m26;
m90.P1=m89;m91.P0=m92;m91.P2=m93;m91.P3=m26;m91.P4=m88;m91.P5=m4;
m92.P0=m29;m92.P1=m91;m92.P2=m28;m93.P0=m4;m93.P1=m91;m93.P2=m27;
m94.P0=m26;m94.P1=m95;m94.P2=m30;m95.P0=m27;m95.P1=m94;m96.P0=m98;
m96.P1=m103;m97.P0=m43;m97.P1=m98;m98.P0=m97;m98.P1=m96;m99.P0=m23;
m99.P1=m103;m99.P2=m149;m100.P0=m101;m100.P1=m25;m100.P2=m147;m101.P0=m22;
m101.P1=m102;m101.P2=m100;m102.P0=m101;m102.P1=m21;m103.P0=m96;m103.P1=m21;
m103.P2=m23;m103.P3=m99;m103.P4=m149;m103.P5=m146;m104.P0=m30;m104.P1=m105;
m105.P0=m104;m105.P1=m31;m106.P0=m108;m106.P1=m31;m106.P2=m107;m107.P0=m106;
m107.P1=m108;m107.P2=m114;m108.P0=m31;m108.P1=m106;m108.P2=m107;m108.P3=m109;
m109.P0=m108;m109.P1=m110;m109.P2=m32;m110.P0=m109;m110.P1=m32;m110.P2=m111;
m111.P0=m112;m111.P1=m32;m111.P2=m110;m111.P3=m33;m112.P0=m32;m112.P1=m113;
m112.P2=m111;m113.P0=m88;m113.P1=m26;m113.P2=m112;m114.P0=m107;m114.P1=m18;
m115.P1=m18;m116.P0=m152;m116.P1=m18;m116.P2=m57;m117.P0=m17;m117.P1=m16;
m118.P0=m16;m118.P1=m119;m118.P2=m15;m118.P3=m125;m119.P0=m118;m119.P1=m16;
m119.P2=m125;m120.P0=m118;m121.P0=m124;m122.P0=m120;m122.P1=m121;m123.P0=m121;
m124.P0=m15;m125.P0=m15;m125.P1=m119;m125.P2=m118;m125.P3=m14;m126.P0=m14;
m126.P1=m13;m127.P0=m13;m127.P1=m12;m128.P0=m12;m128.P1=m129;m128.P2=m130;
m129.P0=m128;m129.P1=m130;m129.P2=m131;m130.P0=m64;m130.P1=m129;m130.P2=m131;
m130.P3=m11;m130.P4=m132;m130.P5=m128;m131.P0=m129;m131.P1=m130;m131.P2=m11;
m132.P0=m65;m132.P1=m130;m132.P2=m11;m132.P3=m134;m132.P4=m133;m133.P0=m10;
m133.P1=m134;m133.P2=m132;m133.P3=m11;m134.P0=m133;m134.P1=m132;m134.P2=m135;
m134.P3=m10;m135.P0=m65;m135.P1=m134;m135.P2=m10;m135.P3=m136;m135.P4=m46;
m136.P0=m10;m136.P1=m46;m136.P2=m137;m136.P3=m135;m137.P0=m46;m137.P1=m136;
m138.P0=m139;m138.P1=m10;m139.P0=m8;m139.P1=m138;m140.P0=m141;m140.P1=m8;
m141.P0=m11;m141.P1=m140;m142.P0=m33;m142.P1=m34;m143.P0=m34;m143.P1=m15;
m144.P0=m34;m144.P1=m35;m145.P0=m35;m145.P1=m37;m146.P0=m89;m146.P1=m103;
m147.P0=m84;m147.P1=m148;m147.P2=m22;m147.P3=m100;m148.P0=m147;m148.P1=m21;
m148.P2=m41;m149.P0=m26;m149.P1=m99;m149.P2=m23;m149.P3=m103;m150.P0=m46;
m150.P1=m2;m151.P0=m17;m151.P1=m57;m151.P2=m152;m152.P0=m153;m152.P1=m151;
m152.P2=m116;m152.P3=m19;m152.P4=m57;m153.P0=m19;m153.P1=m57;m154.P0=m69;
m154.P1=m70;m154.P2=m54;m154.P3=m53;m154.P4=m52;m154.P5=m6;m154.P6=m71;
m155.P0=m156;m155.P1=m61;m155.P2=m100;m155.P3=m25;m156.P0=m155;m156.P1=m157;
m157.P0=m156;m158.P0=m20;m158.P1=m83;m158.P2=m157;m158.P3=m58;m158.P4=m59;
m6.D5=4;m6.D7=16;m7.D2=1024;m20.D2=16;m20.D3=4;m20.D5=2048;
m54.D0=256;m54.D1=16;m54.D2=4;m56.D0=1024;m61.D0=4;m61.D1=16;
m61.D2=256;m69.D4=16;m69.D5=4;m70.D4=16;m70.D5=4;m71.D3=4;
m71.D7=16;m83.D2=2048;m83.D3=16;m83.D4=4;m116.D2=16;m120.D0=1536;
m121.D0=1536;m146.D0=2;m149.D0=2;m151.D1=16;m152.D1=2048;m152.D2=2048;
m152.D3=2064;m152.D4=16;m153.D0=256;m153.D1=16;m154.D2=256;m154.D3=16;
m154.D4=4;m158.D2=256;m158.D3=16;m158.D4=4;
};
/* MarkerInfo
m1 trigger_push -384 1672 22;
m2 trigger_teleport -416 272 272;
m4 trigger_teleport -816 224 224;
m6 weapon_rocketlauncher 0 352 -32;
m7 weapon_grenadelauncher 0 144 464;
m8 item_health 0 -608 40;
m9 item_armor2 -400 336 192;
m10 item_rockets -256 -304 192;
m11 item_spikes 240 -304 192;
m12 item_shells 416 256 192;
m13 item_spikes 416 512 192;
m14 item_health 128 608 208;
m15 weapon_supernailgun -144 624 208;
m16 item_spikes -176 912 224;
m17 item_shells -208 1280 256;
m18 weapon_supershotgun -464 1408 256;
m19 item_armor2 -384 1440 32;
m20 item_health -560 800 32;
m21 weapon_lightning -704 848 -192;
m22 item_cells -752 848 -192;
m23 item_cells -752 800 -192;
m24 item_health -1040 912 -192;
m25 item_health -1040 944 -192;
m26 weapon_rocketlauncher -784 592 112;
m27 item_shells -1104 384 160;
m28 item_health -576 384 160;
m29 item_health -576 352 160;
m30 item_spikes -1104 800 272;
m31 item_shells -1088 1232 352;
m32 item_armorInv -832 1024 384;
m33 item_rockets -448 928 416;
m34 item_cells -432 608 416;
m35 item_shells -416 304 416;
m36 item_shells 0 368 416;
m37 item_health -80 336 416;
m38 item_rockets 144 720 -32;
m39 item_cells 0 896 -32;
m40 item_shells -32 1296 32;
m41 item_rockets -704 1072 0;
m42 item_shells -688 1296 32;
m43 item_health -688 64 -16;
m44 item_health -576 64 -16;
m45 item_rockets -816 160 160;
m46 item_cells -400 16 192;
m47 info_player_deathmatch -568 1600 288;
m48 info_player_deathmatch -384 1208 64;
m49 info_player_deathmatch -1168 528 136;
m50 info_player_deathmatch -416 232 16;
m51 info_player_deathmatch -240 480 0;
m52 door 312 480 32;
m53 func_button -224 480 124;
m54 item_artifact_invisibility 440 480 -8;
m55 func_button 352 480 94;
m56 item_artifact_super_damage 0 -96 504;
m57 door -384 1344 246;
m58 func_button -682 996 212;
m59 door -1144 1056 -128;
m60 func_button -1232 1056 -66;
m61 item_artifact_invulnerability -1264 1056 -168;
m3 info_teleport_destination -416 224 251;
m5 info_teleport_destination -816 272 219;
m62 marker 3 19 -8;
m63 marker 184 36 -8;
m64 marker 158 214 -8;
m65 marker -3 207 -8;
m66 marker -162 49 -8;
m67 marker -335 92 -20;
m68 marker -172 241 -8;
m69 marker 158 372 -8;
m70 marker 163 571 -8;
m71 marker -1 566 -8;
m72 marker -148 679 -8;
m73 marker -147 891 -8;
m74 marker 5 1100 8;
m75 marker 170 896 -8;
m76 marker -207 1330 56;
m77 marker 4 -187 -8;
m78 marker 3 -382 24;
m79 marker -385 1590 56;
m80 marker -488 1600 56;
m81 marker -276 1592 56;
m82 marker -507 1342 56;
m83 marker -556 1043 56;
m84 marker -873 1065 24;
m85 marker -1039 1055 24;
m86 marker -1056 882 56;
m87 marker -1064 677 136;
m88 marker -954 565 136;
m89 marker -544 641 136;
m90 marker -652 500 136;
m91 marker -816 408 184;
m92 marker -681 333 184;
m93 marker -1000 330 184;
m94 marker -1112 653 264;
m95 marker -1105 529 216;
m96 marker -663 600 -136;
m97 marker -716 303 -24;
m98 marker -722 472 -129;
m99 marker -845 703 -168;
m100 marker -944 1073 -168;
m101 marker -756 1054 -168;
m102 marker -607 1031 -168;
m103 marker -625 732 -105;
m104 marker -1109 967 323;
m105 marker -1081 1091 354;
m106 marker -1060 1426 376;
m107 marker -876 1446 376;
m108 marker -919 1289 376;
m109 marker -830 1177 376;
m110 marker -668 1147 376;
m111 marker -612 935 408;
m112 marker -830 871 366;
m113 marker -942 798 336;
m114 marker -703 1441 344;
m115 marker -385 1571 280;
m116 marker -510 1271 280;
m117 marker -193 1091 273;
m118 marker -156 756 248;
m119 marker -3 796 232;
m120 marker -371 787 184;
m121 marker -341 609 184;
m122 marker -431 678 184;
m123 marker -432 526 184;
m124 marker -260 535 232;
m125 marker -27 603 232;
m126 marker 291 599 216;
m127 marker 420 400 216;
m128 marker 414 123 216;
m129 marker 473 -41 216;
m130 marker 327 -96 216;
m131 marker 431 -225 216;
m132 marker 140 -150 216;
m133 marker 28 -278 216;
m134 marker -57 -119 216;
m135 marker -217 -148 216;
m136 marker -413 -161 216;
m137 marker -521 -3 216;
m138 marker -270 -483 168;
m139 marker -211 -601 120;
m140 marker 227 -612 120;
m141 marker 264 -444 168;
m142 marker -417 774 440;
m143 marker -305 633 440;
m144 marker -416 458 440;
m145 marker -250 334 440;
m146 marker -547 720 76;
m147 marker -858 956 -38;
m148 marker -707 872 -30;
m149 marker -789 710 75;
m150 marker -408 186 216;
m151 marker -286 1308 280;
m152 marker -384 1294 280;
m153 marker -384 1344 280;
m154 marker 186 482 -8;
m155 marker -1064 1057 -168;
m156 marker -846 1013 -110;
m157 marker -699 939 -34;
m158 marker -595 913 56;
*/
